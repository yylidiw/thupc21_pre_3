{{ self.title() }}

## 题目简述

给定一幅 $n$ 个点最多 $n / 2$ 条边的无向图，边是随机的，对于每个点 $i$，取它能得到 $a_i$ 分，对于每条边 $(x_i,y_i,z_i)$， 如果点 $x_i, y_i$ 都取了，会失去 $z_i$ 分，问最多能得几分。

## 解法

首先考虑树的 case，这种情况是好做的，直接拿树形 dp 就能搞定。观察到题目中边是随机的，那么环的数目其实很少，有兴趣的同学可以自己算一算。所以做法就是对于每个联通块，我们不停地在图中找环，每次删掉环里的一个点，直到剩下的点形成一棵树。假设删掉的点的集合是 $S$，我们暴力枚举每个点取或不取，共有 $2^S$ 种情况，对于每种情况，再树形 dp 一下就可以了。时间复杂度 $O(n)$。